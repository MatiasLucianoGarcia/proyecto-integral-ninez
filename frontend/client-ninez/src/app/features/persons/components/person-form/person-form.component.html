<div class="form-wrapper">
	<!-- Header -->
	<div class="form-header">
		<button mat-icon-button class="back-button" (click)="goBack()" aria-label="Volver">
			<mat-icon>arrow_back</mat-icon>
		</button>
		<div class="header-content">
			<div class="title-section">
				<mat-icon class="title-icon">
					{{ isCreateMode ? 'person_add' : isEditMode ? 'edit' : 'visibility' }}
				</mat-icon>
				<div>
					<h1 class="title">{{ formTitle }}</h1>
					<p class="subtitle">
						{{
						isCreateMode
						? 'Complete los datos de la nueva persona'
						: isEditMode
						? 'Modifique los datos necesarios'
						: 'Información de la persona'
						}}
					</p>
				</div>
			</div>

		</div>
	</div>



	<!-- Loading State -->
	@if(loading()) {
	<div class="loading-container">
		<mat-progress-spinner mode="indeterminate" diameter="50"></mat-progress-spinner>
		<p>Cargando información...</p>
	</div>
	} @else {
	<!-- Form Content -->
	<div class="form-content">
		<!-- Tabs para Datos Personales y Familia -->

		<mat-tab-group class="form-tabs" [dynamicHeight]="true">
			<!-- Tab 1: Datos Generales -->
			<mat-tab>
				<ng-template mat-tab-label>
					<mat-icon class="tab-icon">person</mat-icon>
					Datos Generales
				</ng-template>

				<div class="tab-content-general">
					<!-- Formulario de Datos Personales -->
					<form [formGroup]="personForm" (ngSubmit)="onSubmit()" class="tab-content">
						<!-- Datos Personales Card -->
						<mat-card class="form-section">
							<mat-card-header>
								<mat-card-title class="section-title">
									<mat-icon class="section-icon">badge</mat-icon>
									Información General
								</mat-card-title>
							</mat-card-header>
							<mat-card-content>
								<div class="form-grid">
									<!-- DNI -->
									<mat-form-field appearance="outline" class="form-field">
										<mat-label>DNI</mat-label>
										@if(isViewMode) {
										<input matInput [value]="personData()?.dni" readonly />
										} @else {
										<input matInput formControlName="dni" placeholder="12345678" type="text"
											maxlength="8" [readonly]="isEditMode" />
										}
										<mat-icon matPrefix class="field-icon">fingerprint</mat-icon>
										@if(personForm.get('dni')?.hasError('required')) {
										<mat-error>El DNI es requerido</mat-error>
										} @if(personForm.get('dni')?.hasError('pattern')) {
										<mat-error>DNI inválido (7-8 dígitos)</mat-error>
										}
									</mat-form-field>

									<!-- Nombre -->
									<mat-form-field appearance="outline" class="form-field">
										<mat-label>Nombre</mat-label>
										@if(isViewMode) {
										<input matInput [value]="personData()?.nombre" readonly />
										} @else {
										<input matInput formControlName="nombre" placeholder="Juan" />
										}
										<mat-icon matPrefix class="field-icon">person</mat-icon>
										@if(personForm.get('nombre')?.hasError('required')) {
										<mat-error>El nombre es requerido</mat-error>
										} @if(personForm.get('nombre')?.hasError('minlength')) {
										<mat-error>Mínimo 2 caracteres</mat-error>
										}
									</mat-form-field>

									<!-- Apellido -->
									<mat-form-field appearance="outline" class="form-field">
										<mat-label>Apellido</mat-label>
										@if(isViewMode) {
										<input matInput [value]="personData()?.apellido" readonly />
										} @else {
										<input matInput formControlName="apellido" placeholder="Pérez" />
										}
										<mat-icon matPrefix class="field-icon">person_outline</mat-icon>
										@if(personForm.get('apellido')?.hasError('required')) {
										<mat-error>El apellido es requerido</mat-error>
										} @if(personForm.get('apellido')?.hasError('minlength')) {
										<mat-error>Mínimo 2 caracteres</mat-error>
										}
									</mat-form-field>

									<!-- Fecha de Nacimiento -->
									<mat-form-field appearance="outline" class="form-field">
										<mat-label>Fecha de Nacimiento</mat-label>
										@if(isViewMode) {
										<input matInput [value]="personData()?.fecha_nacimiento | date:'dd/MM/yyyy'"
											readonly />
										} @else {
										<input matInput [matDatepicker]="picker" formControlName="fecha_nacimiento"
											placeholder="DD/MM/YYYY" (click)="picker.open()" />
										}
										<mat-icon matPrefix class="field-icon">cake</mat-icon>
										@if(!isViewMode) {
										<mat-datepicker-toggle matSuffix [for]="picker"></mat-datepicker-toggle>
										}
										<mat-datepicker #picker></mat-datepicker>
										@if(personForm.get('fecha_nacimiento')?.hasError('required')) {
										<mat-error>La fecha de nacimiento es requerida</mat-error>
										}
									</mat-form-field>

									<!-- Género -->
									<mat-form-field appearance="outline" class="form-field">
										<mat-label>Género</mat-label>
										@if(isViewMode) {
										<input matInput [value]="personData()?.genero?.nombre" readonly />
										} @else {
										<mat-select formControlName="genero" placeholder="Seleccione"
											*ngIf="!isViewMode">
											@for (genero of generos(); track $index) {
											<mat-option [value]="genero.id">
												{{ genero.nombre }}
											</mat-option>
											}
										</mat-select>
										}
										<mat-icon matPrefix class="field-icon">wc</mat-icon>
										@if(personForm.get('genero')?.hasError('required')) {
										<mat-error>El género es requerido</mat-error>
										}
									</mat-form-field>

									<!-- Nacionalidad -->
									<mat-form-field appearance="outline" class="form-field">
										<mat-label>Nacionalidad</mat-label>
										@if(isViewMode) {
										<input matInput [value]="personData()?.nacionalidad?.nombre" readonly />
										} @else {
										<mat-select formControlName="nacionalidad" placeholder="Seleccione">
											@for(nacionalidad of nacionalidades(); track $index) {
											<mat-option [value]="nacionalidad.id">
												{{ nacionalidad.nombre }}
											</mat-option>
											}
										</mat-select>
										}
										<mat-icon matPrefix class="field-icon">flag</mat-icon>
										@if(personForm.get('nacionalidad')?.hasError('required')) {
										<mat-error>La nacionalidad es requerida</mat-error>
										}
									</mat-form-field>
								</div>
							</mat-card-content>
							@if(!isViewMode) {
							<mat-card-actions align="end">
								<button mat-raised-button color="primary" type="submit"
									[disabled]="personForm.invalid || personForm.pristine || loading()">
									<mat-icon>{{ isCreateMode ? 'add' : 'save' }}</mat-icon>
									{{ submitButtonText }}
								</button>
							</mat-card-actions>
							}
						</mat-card>


					</form>

					<!-- Ingresos Section -->
					@if(personDni()) {
					<mat-divider class="section-divider"></mat-divider>
					<div class="tab-content">
						<div class="family-tab-header">
							<div class="header-info">
								<mat-icon class="header-icon">assignment_ind</mat-icon>
								<div>
									<h2 class="family-title">Ingresos</h2>
									<p class="family-subtitle">
										{{ ingresos().length > 0 ? 'Ingresos registrados' : 'No hay ingresos
										registrados' }}
									</p>
								</div>
							</div>
							@if(!isViewMode) {
							<button mat-raised-button color="primary" class="add-family-button"
								(click)="onAddIngreso()">
								<mat-icon>post_add</mat-icon>
								Agregar Ingreso
							</button>
							}
						</div>

						@if(loadingIngresos()) {
						<div class="loading-container">
							<mat-progress-spinner mode="indeterminate" diameter="50"></mat-progress-spinner>
							<p>Cargando ingresos...</p>
						</div>
						}

						@if(!loadingIngresos()) {
						<app-ingreso-list [ingresos]="ingresos()" [isViewMode]="isViewMode"
							(deleteIngreso)="onDeleteIngreso($event)"></app-ingreso-list>
						}
					</div>
					}

					<!-- Domicilio Section (Moved here) -->
					@if(personDni()) {
					<mat-divider class="section-divider"></mat-divider>
					<div class="tab-content">
						<div class="family-tab-header">
							<div class="header-info">
								<mat-icon class="header-icon">home</mat-icon>
								<div>
									<h2 class="family-title">Domicilios</h2>
									<p class="family-subtitle">
										{{ domicilios().length > 0 ? 'Domicilios registrados' : 'No hay domicilios
										registrados' }}
									</p>
								</div>
							</div>
							@if(!isViewMode) {
							<button mat-raised-button color="primary" class="add-family-button"
								(click)="onAddDomicilio()">
								<mat-icon>add_location_alt</mat-icon>
								Agregar Domicilio
							</button>
							}
						</div>

						@if(loadingDomicilios()) {
						<div class="loading-container">
							<mat-progress-spinner mode="indeterminate" diameter="50"></mat-progress-spinner>
							<p>Cargando domicilios...</p>
						</div>
						}

						@if(!loadingDomicilios()) {
						<app-address-list [domicilios]="domicilios()" [isViewMode]="isViewMode"
							(deleteAddress)="onDeleteDomicilio($event)"></app-address-list>
						}

						<!-- Contactos Section -->
						<mat-divider class="section-divider"
							style="margin-top: 24px; margin-bottom: 24px;"></mat-divider>
						<div class="family-tab-header">
							<div class="header-info">
								<mat-icon class="header-icon">contact_phone</mat-icon>
								<div>
									<h2 class="family-title">Contactos</h2>
									<p class="family-subtitle">
										{{ contacts().length > 0 ? 'Teléfonos de contacto registrados' : 'No hay
										contactos registrados' }}
									</p>
								</div>
							</div>
							@if(!isViewMode) {
							<button mat-raised-button color="primary" class="add-family-button"
								(click)="onAddContact()">
								<mat-icon>add_call</mat-icon>
								Agregar Contacto
							</button>
							}
						</div>
						<app-contact-list [contacts]="contacts()" [isViewMode]="isViewMode"
							(deleteContact)="onDeleteContact($any($event))"></app-contact-list>
					</div>
					}
				</div>
			</mat-tab>

			<!-- Tab 2: Familia y Comunidad -->
			<mat-tab>
				<ng-template mat-tab-label>
					<mat-icon class="tab-icon">groups</mat-icon>
					Familia y Comunidad @if(familyMembers().length > 0) {
					<span class="family-count">({{ familyMembers().length }})</span>
					}
				</ng-template>

				<div class="tab-content">
					@if(personDni()) {
					<!-- Header de la pestaña Familia -->
					<div class="family-tab-header">
						<div class="header-info">
							<mat-icon class="header-icon">groups</mat-icon>
							<div>
								<h2 class="family-title">Grupo Familiar y Comunitario</h2>
								<p class="family-subtitle">
									{{ familyMembers().length > 0 ? 'Familiares registrados' : 'No hay familiares
									registrados' }}
								</p>
							</div>
						</div>
						@if(!isViewMode) {
						<button mat-raised-button color="primary" class="add-family-button"
							(click)="onAddFamilyMember()">
							<mat-icon>person_add</mat-icon>
							Agregar Familiar
						</button>
						}
					</div>

					<!-- Loading State -->
					@if(loadingFamily()) {
					<div class="loading-container">
						<mat-progress-spinner mode="indeterminate" diameter="50"></mat-progress-spinner>
						<p>Cargando familia...</p>
					</div>
					}

					<!-- Family Tree Component -->
					@if(!loadingFamily()) {
					<app-family-tree [familyMembers]="familyMembers()" [isViewMode]="isViewMode"
						(editMember)="onEditFamilyMember($event)" (deleteMember)="onDeleteFamilyMember($event)"
						(viewMember)="onViewFamilyMember($event)"></app-family-tree>
					}


					<!-- SUGERERENCIAS -->

					<mat-divider class="section-divider" [class.extra-spacing]="familyMembers().length === 0"
						style="margin-top: 30px; margin-bottom: 30px;"></mat-divider>

					<div class="suggested-family-section">
						<div class="family-tab-header suggested-header">
							<div class="header-info">
								<mat-icon class="header-icon">person_search</mat-icon>
								<div>
									<h2 class="family-title">Sugerencias de Familia</h2>
									<p class="family-subtitle">Personas posiblemente relacionadas</p>
								</div>
							</div>
						</div>

						@if(suggestedFamily().length > 0) {
						<div class="suggested-list">
							<app-suggested-person-card *ngFor="let suggestion of suggestedFamily()"
								[person]="suggestion" (add)="addSuggestedFamily($event)"
								(view)="onViewSuggestedPerson($event)" />
						</div>
						} @else {
						<div class="empty-state">
							<mat-icon>person_search</mat-icon>
							<p>No hay sugerencias de familia</p>
						</div>
						}
					</div>
					} @else {
					<div class="empty-state-placeholder">
						<mat-icon>info</mat-icon>
						<p>Primero complete los datos generales para agregar información familiar.</p>
					</div>
					}
				</div>
			</mat-tab>

			<!-- Tab 3: Salud y Educación -->
			<mat-tab>
				<ng-template mat-tab-label>
					<mat-icon class="tab-icon">local_hospital</mat-icon>
					Salud y Educación
				</ng-template>

				<div class="tab-content">
					@if(personDni()) {
					<!-- Salud General (Moved to top) -->
					@if(loadingSalud()) {
					<div class="loading-container">
						<mat-progress-spinner mode="indeterminate" diameter="40"></mat-progress-spinner>
					</div>
					} @else {
					<app-salud-general [salud]="salud()" [isViewMode]="isViewMode" (save)="onUpdateSalud($event)">
					</app-salud-general>
					}

					<!-- Divider -->
					<mat-divider class="section-divider" style="margin-top: 30px; margin-bottom: 30px;"></mat-divider>

					<!-- Escolaridad -->
					<div class="family-tab-header">
						<div class="header-info">
							<mat-icon class="header-icon">school</mat-icon>
							<div>
								<h2 class="family-title">Escolaridad</h2>
							</div>
						</div>
						@if(!isViewMode) {
						<button mat-raised-button color="primary" class="add-family-button"
							(click)="onAddEscolaridad()">
							<mat-icon>add</mat-icon>
							Agregar Escolaridad
						</button>
						}
					</div>

					<app-education-list [escolaridades]="escolaridades()" [isViewMode]="isViewMode"
						(delete)="onDeleteEscolaridad($event)">
					</app-education-list>

					<!-- Divider -->
					<mat-divider class="section-divider" style="margin-top: 30px; margin-bottom: 30px;"></mat-divider>


					<!-- Controles Médicos Placeholder -->
					<!-- Controles Médicos -->
					<div class="family-tab-header">
						<div class="header-info">
							<mat-icon class="header-icon">monitor_heart</mat-icon>
							<div>
								<h2 class="family-title">Controles Médicos</h2>
								<p class="family-subtitle">Historial de visitas y controles de salud</p>
							</div>
						</div>

						<button mat-raised-button color="primary" (click)="onAddControl()" *ngIf="!isViewMode">
							<mat-icon>add</mat-icon>
							Agregar
						</button>
					</div>

					@if(loadingControles()) {
					<div class="loading-container">
						<mat-progress-spinner mode="indeterminate" diameter="40"></mat-progress-spinner>
					</div>
					} @else {
					<app-control-medico-list [controles]="controlesMedicos()" [isViewMode]="isViewMode"
						(delete)="onDeleteControl($event)">
					</app-control-medico-list>
					}
					} @else {
					<div class="empty-state-placeholder">
						<mat-icon>info</mat-icon>
						<p>Guarde la persona primero para agregar información de salud y educación.</p>
					</div>
					}
				</div>
			</mat-tab>

			<!-- Tab 4: Datos Importantes -->
			<mat-tab>
				<ng-template mat-tab-label>
					<mat-icon class="tab-icon">assignment</mat-icon>
					Datos Importantes
				</ng-template>
				<div class="tab-content">
					@if(personDni()) {
					<!-- Trabajo -->
					<div class="family-tab-header">
						<div class="header-info">
							<mat-icon class="header-icon">work</mat-icon>
							<div>
								<h2 class="family-title">Trabajo</h2>
								<p class="family-subtitle">Historial laboral y ocupaciones</p>
							</div>
						</div>

						<button mat-raised-button color="primary" (click)="onAddTrabajo()" *ngIf="!isViewMode">
							<mat-icon>add</mat-icon>
							Agregar
						</button>
					</div>

					@if(loadingTrabajos()) {
					<div class="loading-container">
						<mat-progress-spinner mode="indeterminate" diameter="40"></mat-progress-spinner>
					</div>
					} @else {
					<app-trabajo-list [trabajos]="trabajos()" [isViewMode]="isViewMode"
						(delete)="onDeleteTrabajo($event)">
					</app-trabajo-list>
					}

					<mat-divider class="section-divider" style="margin-top: 24px; margin-bottom: 24px;"></mat-divider>

					<!-- Actividades Extracurriculares -->
					<div class="family-tab-header">
						<div class="header-info">
							<mat-icon class="header-icon">sports_soccer</mat-icon>
							<div>
								<h2 class="family-title">Actividades Extracurriculares</h2>
								<p class="family-subtitle">Deportes, arte y actividades recreativas</p>
							</div>
						</div>

						<button mat-raised-button color="primary" (click)="onAddActividad()" *ngIf="!isViewMode">
							<mat-icon>add</mat-icon>
							Agregar
						</button>
					</div>

					@if(loadingActividades()) {
					<div class="loading-container">
						<mat-progress-spinner mode="indeterminate" diameter="40"></mat-progress-spinner>
					</div>
					} @else {
					<app-actividades-extra-list [actividades]="actividades()" [isViewMode]="isViewMode"
						(delete)="onDeleteActividad($event)">
					</app-actividades-extra-list>
					}

					<mat-divider class="section-divider" style="margin-top: 24px; margin-bottom: 24px;"></mat-divider>

					<!-- Pérdidas -->
					<div class="family-tab-header">
						<div class="header-info">
							<mat-icon class="header-icon">heart_broken</mat-icon>
							<div>
								<h2 class="family-title">Pérdidas Significativas</h2>
								<p class="family-subtitle">Registro de pérdidas importantes recientes</p>
							</div>
						</div>

						<button mat-raised-button color="primary" (click)="onAddPerdida()" *ngIf="!isViewMode">
							<mat-icon>add</mat-icon>
							Agregar
						</button>
					</div>

					@if(loadingPerdidas()) {
					<div class="loading-container">
						<mat-progress-spinner mode="indeterminate" diameter="40"></mat-progress-spinner>
					</div>
					} @else {
					<app-perdida-list [perdidas]="perdidas()" [isViewMode]="isViewMode"
						(delete)="onDeletePerdida($event)">
					</app-perdida-list>
					}

					<mat-divider class="section-divider" style="margin-top: 24px; margin-bottom: 24px;"></mat-divider>

					<app-intereses [dni]="personDni()!" [isViewMode]="isViewMode">
					</app-intereses>
					} @else {
					<div class="empty-state-placeholder">
						<mat-icon>info</mat-icon>
						<p>Primero complete los datos generales para agregar datos importantes.</p>
					</div>
					}
				</div>
			</mat-tab>

			<!-- Tab 5: Articulaciones -->
			<mat-tab>
				<ng-template mat-tab-label>
					<mat-icon class="tab-icon">hub</mat-icon>
					Articulaciones
				</ng-template>
				<div class="tab-content">
					@if(personDni()) {
					<!-- Header moved inside if -->
					<div class="family-tab-header">
						<div class="header-info">
							<mat-icon class="header-icon">hub</mat-icon>
							<div>
								<h2 class="family-title">Articulaciones</h2>
								<p class="family-subtitle">
									{{ articulaciones().length > 0 ? 'Articulaciones registradas' : 'No hay
									articulaciones registradas' }}
								</p>
							</div>
						</div>
						@if(!isViewMode) {
						<button mat-raised-button color="primary" class="add-family-button"
							(click)="onAddArticulacion()">
							<mat-icon>add_link</mat-icon>
							Agregar Articulación
						</button>
						}
					</div>

					@if(loadingArticulaciones()) {
					<div class="loading-container">
						<mat-progress-spinner mode="indeterminate" diameter="50"></mat-progress-spinner>
						<p>Cargando articulaciones...</p>
					</div>
					}

					@if(!loadingArticulaciones()) {
					<app-articulacion-list [articulaciones]="articulaciones()" [isViewMode]="isViewMode"
						(deleteArticulacion)="onDeleteArticulacion($event)"></app-articulacion-list>
					}
					} @else {
					<div class="empty-state-placeholder">
						<mat-icon>info</mat-icon>
						<p>Primero complete los datos generales para agregar articulaciones.</p>
					</div>
					}
				</div>
			</mat-tab>

			<!-- Tab 6: Condiciones de Vida -->
			<mat-tab>
				<ng-template mat-tab-label>
					<mat-icon class="tab-icon">home_work</mat-icon>
					Condiciones de Vida
				</ng-template>
				<div class="tab-content">
					@if(personDni()) {
					<!-- Condiciones de Vida Section (Header removed, internal now) -->
					<app-condiciones-vida [dni]="personDni()!" [isViewMode]="isViewMode"></app-condiciones-vida>

					<mat-divider class="section-divider" style="margin-top: 30px; margin-bottom: 30px;"></mat-divider>

					<!-- Vivienda Section -->
					<div class="family-tab-header">
						<div class="header-info">
							<mat-icon class="header-icon">home</mat-icon>
							<div>
								<h2 class="family-title">Vivienda</h2>
								<p class="family-subtitle">
									{{ viviendas().length > 0 ? 'Viviendas registradas' : 'No hay viviendas registradas'
									}}
								</p>
							</div>
						</div>
						@if(!isViewMode) {
						<button mat-raised-button color="primary" class="add-family-button" (click)="onAddVivienda()">
							<mat-icon>add_home</mat-icon>
							Agregar Vivienda
						</button>
						}
					</div>

					@if(loadingViviendas()) {
					<div class="loading-container">
						<mat-progress-spinner mode="indeterminate" diameter="50"></mat-progress-spinner>
						<p>Cargando viviendas...</p>
					</div>
					}

					@if(!loadingViviendas()) {
					<app-vivienda-list [viviendas]="viviendas()" [isViewMode]="isViewMode"
						(deleteVivienda)="onDeleteVivienda($event)"></app-vivienda-list>
					}
					} @else {
					<div class="empty-state-placeholder">
						<mat-icon>info</mat-icon>
						<p>Primero complete los datos generales para gestionar condiciones de vida y vivienda.</p>
					</div>
					}
				</div>
			</mat-tab>

			<!-- Tab 7: Servicio Local (Restricted) -->
			@if(canViewServicioLocal) {
			<mat-tab>
				<ng-template mat-tab-label>
					<mat-icon class="tab-icon">security</mat-icon>
					Servicio Local
				</ng-template>
				<div class="tab-content">
					@if(personDni()) {

					<!-- VISTA RESTRINGIDA -->
					@if(isRestrictedServicioLocal) {
					<div class="family-tab-header">
						<div class="header-info">
							<mat-icon class="header-icon">security</mat-icon>
							<div>
								<h2 class="family-title">Servicio Local</h2>
								<p class="family-subtitle">Estado de intervención</p>
							</div>
						</div>
					</div>

					<div style="margin-top: 24px;">
						@if(servicioLocalStatus()?.intervenido) {
						<div class="status-card active-intervention">
							<div class="status-icon">
								<mat-icon>warning</mat-icon>
							</div>
							<div class="status-info">
								<h3>Intervención Activa</h3>
								<p>Esta persona cuenta con registros en el Servicio Local.</p>

								@if(servicioLocalStatus()?.ultima_actualizacion) {
								<div class="last-update">
									<strong>Última actualización de Hoja de Ruta:</strong>
									<span>{{ servicioLocalStatus()?.ultima_actualizacion | date:'dd/MM/yyyy' }}</span>
								</div>
								} @else {
								<div class="last-update">
									<span>Sin movimientos recientes en Hoja de Ruta.</span>
								</div>
								}
							</div>
						</div>
						} @else {
						<div class="status-card no-intervention">
							<div class="status-icon">
								<mat-icon>check_circle</mat-icon>
							</div>
							<div class="status-info">
								<h3>Sin Intervención</h3>
								<p>No se registran intervenciones activas del Servicio Local para esta persona.</p>
							</div>
						</div>
						}
					</div>
					}

					<!-- VISTA COMPLETA (ADMIN/PROTECCION) -->
					@else {
					<div class="family-tab-header">
						<div class="header-info">
							<mat-icon class="header-icon">security</mat-icon>
							<div>
								<h2 class="family-title">Servicios Locales Asociados</h2>
								<p class="family-subtitle">
									{{ servicioLocalList?.items()?.length || 0 > 0 ? 'Intervenciones registradas' : 'No
									hay intervenciones registradas' }}
								</p>
							</div>
						</div>
						@if(!isViewMode) {
						<button mat-raised-button color="primary" class="add-family-button"
							(click)="onAddServicioLocal()">
							<mat-icon>add_moderator</mat-icon>
							Agregar Intervención
						</button>
						}
					</div>

					<app-servicio-local-list [dni]="personDni()!" [isViewMode]="isViewMode"></app-servicio-local-list>

					<mat-divider class="section-divider" style="margin-top: 20px; margin-bottom: 20px;"></mat-divider>

					<app-hoja-ruta-list [dni]="personDni()!" [isViewMode]="isViewMode"></app-hoja-ruta-list>
					}
					} @else {
					<div class="empty-state-placeholder">
						<mat-icon>info</mat-icon>
						<p>Primero complete los datos generales para acceder a la información del Servicio Local.</p>
					</div>
					}
				</div>
			</mat-tab>
			}

		</mat-tab-group>
	</div>

	}
</div>